
# ุฎุทุฉ ุชุญุณูู ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ููุงุฆูุฉ ุงููุณุชุฎุฏู

## ุงููุดููุฉ ุงูุญุงููุฉ
1. ุนูุฏ ุชุญุฏูุซ ุงูุดุงุดุฉ (refresh)ุ ูุชู ููุฏุงู ุงูุฌูุณุฉ ูููุทูุจ ูู ุงููุณุชุฎุฏู ุชุณุฌูู ุงูุฏุฎูู ูุฌุฏุฏุงู
2. ูุง ููุฌุฏ ุฒุฑ ูุชุณุฌูู ุงูุฎุฑูุฌ
3. ูุง ุชูุฌุฏ ูุงุฆูุฉ ูุณุชุฎุฏู ูู ุงูุดุฑูุท ุงูุฌุงูุจู

## ุงูุชุญุณููุงุช ุงููุทููุจุฉ

### ุงููููุฉ 1: ุฅุตูุงุญ ุงุณุชูุฑุงุฑ ุงูุฌูุณุฉ (Session Persistence)
**ุงููุถุน ุงูุญุงูู:** ุงูุฌูุณุฉ ุชูููุฏ ุนูุฏ ุชุญุฏูุซ ุงูุดุงุดุฉ
**ุงูุญู:**
- ุงูุชุฃูุฏ ูู ุฃู `supabase.auth.getSession()` ููุณุชุฏุนู ูุจู `onAuthStateChange`
- ุฅุถุงูุฉ ูุนุงูุฌุฉ ุฃูุถู ูุญุงูุงุช `TOKEN_REFRESHED` ู `SIGNED_IN`

```text
ุชุฏูู ุงูุชุญูู ูู ุงูุฌูุณุฉ:
โโโโโโโโโโโโโโโโโโโ
โ   ุชุญููู ุงูุตูุญุฉ  โ
โโโโโโโโโโฌโโโโโโโโโ
         โผ
โโโโโโโโโโโโโโโโโโโ
โ getSession()    โ โโโ ุงูุชุญูู ูู ุงูุฌูุณุฉ ุงููุญููุธุฉ
โโโโโโโโโโฌโโโโโโโโโ
         โผ
    โโโโโโดโโโโโ
    โ ุฌูุณุฉุ  โ
    โโโโโโฌโโโโโ
    ูุนู โผ     โผ ูุง
โโโโโโโโโโโ โโโโโโโโโโโ
โ ุงูุฑุฆูุณูุฉโ โ  /auth  โ
โโโโโโโโโโโ โโโโโโโโโโโ
```

### ุงููููุฉ 2: ุฅุถุงูุฉ ูุงุฆูุฉ ุงููุณุชุฎุฏู ูู ุงูุดุฑูุท ุงูุฌุงูุจู
**ุงููููุน:** ุฃุณูู ูุณุงุฑ ุงูุดุฑูุท ุงูุฌุงูุจู (footer)
**ุงูุชุตููู:**
- ุฃููููุฉ ุฏุงุฆุฑูุฉ ูุงุจูุฉ ููุถุบุท (ููุณูุฉ ูู 4 ุฃุฑุจุงุน)
- ุนูุฏ ุงูุถุบุท: ูุงุฆูุฉ ููุจุซูุฉ (Dropdown)
- ุฎูุงุฑุงุช ุงููุงุฆูุฉ:
  - ุงูููู ุงูุดุฎุตู (ูุณุชูุจููุงู)
  - ุชุณุฌูู ุงูุฎุฑูุฌ

```text
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ            ุงูุดุฑูุท ุงูุฌุงูุจู           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ         ูุงุฆูุฉ ุงููุญุงุฏุซุงุช            โ
โ           ...                      โ
โ           ...                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [โโ]  email@example.com  [ุฎุฑูุฌ โ] โ
โ [โโ]                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงููููุฉ 3: ุฅูุดุงุก ูููู UserMenu
**ุงูููู ุงูุฌุฏูุฏ:** `src/components/auth/UserMenu.tsx`
**ุงููุญุชูู:**
- ุนุฑุถ ุตูุฑุฉ ุงููุณุชุฎุฏู ุฃู ุงูุฃุญุฑู ุงูุฃููู
- ุนุฑุถ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุฒุฑ ุชุณุฌูู ุงูุฎุฑูุฌ
- ุงุณุชุฎุฏุงู `supabase.auth.signOut()`

## ุงููููุงุช ุงููุชุฃุซุฑุฉ

| ุงูููู | ุงูุชุบููุฑ |
|-------|---------|
| `src/components/auth/UserMenu.tsx` | โจ ุฅูุดุงุก ุฌุฏูุฏ |
| `src/components/auth/AuthGuard.tsx` | ๐ง ุชุญุณูู ูุนุงูุฌุฉ ุงูุฌูุณุฉ |
| `src/components/chat/ConversationSidebar.tsx` | ๐ง ุฅุถุงูุฉ UserMenu ูู Footer |

## ุงูุชูุงุตูู ุงูุชูููุฉ

### 1. ูููู UserMenu
```
ุงูููููุงุช ุงููุณุชุฎุฏูุฉ:
- DropdownMenu ูู Radix UI
- Avatar ูู Radix UI  
- Button ูู Shadcn

ุงูุฃููููุงุช:
- LogOut ูุชุณุฌูู ุงูุฎุฑูุฌ
- User ููููู ุงูุดุฎุตู
- Settings ููุฅุนุฏุงุฏุงุช (ูุณุชูุจููุงู)
```

### 2. ุชุญุณูู AuthGuard
```
ุงูุชุญุณููุงุช:
- ูุนุงูุฌุฉ ุฃูุถู ูู event types
- ููุน ุฅุนุงุฏุฉ ุงูุชูุฌูู ุงููุชูุฑุฑุฉ
- ุฅุถุงูุฉ console.log ููุชุดุฎูุต
```

### 3. ุชุญุฏูุซ ConversationSidebar
```
ุงูุชุบููุฑุงุช:
- ุงุณุชุจุฏุงู ุงููุต ุงูุซุงุจุช ุจูููู UserMenu
- ุชูุฑูุฑ ุญุงูุฉ ุงููุณุชุฎุฏู
- ูุนุงูุฌุฉ ุชุณุฌูู ุงูุฎุฑูุฌ
```

## ุชุฑุชูุจ ุงูุชูููุฐ
1. ุฅูุดุงุก `UserMenu.tsx`
2. ุชุญุฏูุซ `AuthGuard.tsx` ูุชุญุณูู ูุนุงูุฌุฉ ุงูุฌูุณุฉ
3. ุชุญุฏูุซ `ConversationSidebar.tsx` ูุฅุถุงูุฉ ูุงุฆูุฉ ุงููุณุชุฎุฏู
4. ุงุฎุชุจุงุฑ ุงูุชุฏูู ุงููุงูู

## ุงูุชูุงูู
- โ RTL (ุงูุนุฑุจูุฉ)
- โ Mobile & Desktop
- โ Dark/Light mode
- โ Keyboard navigation (a11y)

